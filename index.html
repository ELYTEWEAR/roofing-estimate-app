<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roofing Estimate</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to your CSS file -->
    <style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
    }
    .container {
        max-width: 800px;
        margin: 0 auto;
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
        position: relative; /* Added position relative */
    }
    h1 {
        margin-bottom: 20px;
        text-align: center;
    }
    h2 {
        margin-bottom: 10px;
    }
    p {
        margin-bottom: 10px;
    }
    .footer {
        background-color: red;
        color: white;
        padding: 10px;
        text-align: center;
        position: absolute; /* Changed position to absolute */
        bottom: 0;
        left: 0; /* Added left position */
        width: 100%;
        border-bottom-left-radius: 8px; /* Added to match the container's border-radius */
        border-bottom-right-radius: 8px; /* Added to match the container's border-radius */
    }
</style>

</head>
<body>
    <div class="container">
        <header>
            <h1>Owens Construction Roofing Estimate</h1>
            <p>Please fill out the details below to generate a roofing estimate.</p>
        </header>

        <form id="estimateForm" onsubmit="return generateEstimate()">
            <!-- Customer Name -->
            <div class="form-row">
                <label for="customerName">Customer Name:</label>
                <input type="text" id="customerName" name="customerName">
            </div>

            <!-- Customer Address -->
            <div class="form-row">
                <label for="customerAddress">Customer Address:</label>
                <input type="text" id="customerAddress" name="customerAddress">
            </div>

            <section class="outside-work">
                <h3>Outside Work</h3>
                <div class="form-row">
                    <label for="roofPitch">I will supply Labor and Material on a </label>
                    <select id="roofPitch" name="roofPitch">
                        <option value="flat">Flat</option>
                        <option value="4/12">4/12</option>
                        <option value="5/12">5/12</option>
                        <option value="6/12">6/12</option>
                        <option value="7/12">7/12</option>
                        <option value="8/12">8/12</option>
                        <option value="9/12">9/12</option>
                        <option value="10/12">10/12</option>
                        <option value="11/12">11/12</option>
                        <option value="12/12">12/12</option>
                    </select> pitch roof.
                </div>

                <div class="form-row">
                    <label for="shinglesType">We will use </label>
                    <select id="shinglesType" name="shinglesType">
                        <option value="pinicleAtlas">Pinicle Atlas</option>
                        <option value="other">Other</option>
                    </select> shingles.
                </div>

                <div class="form-row">
                    <label for="shingleColor">Shingle Color: </label>
                    <select id="shingleColor" name="shingleColor">
                        <option value="black">Black</option>
                        <option value="grey">Grey</option>
                        <option value="brown">Brown</option>
                        <option value="tan">Tan</option>
                        <option value="red">Red</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="squares">Number of Squares: </label>
                    <input type="number" id="squares" name="squares">
                
                    <div class="pricing-options">
                        <input type="radio" id="costPerSquare350" name="costPerSquare" value="350">
                        <label for="costPerSquare350">$350 per square</label>
                
                        <input type="radio" id="costPerSquare500" name="costPerSquare" value="500" checked>
                        <label for="costPerSquare500">$500 per square</label>
                    </div>
                </div>


                <div class="form-row">
                    <input type="checkbox" id="tearOff" name="tearOff" checked>
                    <label for="tearOff">I will tear off damaged roof and re-shingle.</label>
                </div>

                <div class="form-row">
                    <label for="dripEdgeLength">New Drip Edge (Ln. Ft.): </label>
                    <input type="number" id="dripEdgeLength" name="dripEdgeLength">
                </div>

                <div class="form-row">
                    <label for="feltWeight">Felt Weight: </label>
                    <select id="feltWeight" name="feltWeight">
                        <option value="15">15 lb</option>
                        <option value="30">30 lb</option>
                    </select> on entire area of house.
                </div>

                <div class="form-row">
                    <input type="checkbox" id="iceWaterGuard" name="iceWaterGuard" checked>
                    <label for="iceWaterGuard">Add new ice and water guard on front starters from drip edge up.</label>
                </div>

                <div class="form-row">
                    <label for="chimneys">Re-flash </label>
                    <select id="chimneys" name="chimneys">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select> chimneys.
                </div>

                <div class="form-row">
                    <input type="checkbox" id="weatherIn" name="weatherIn" checked>
                    <label for="weatherIn">Weather in the roof before shingles are applied.</label>
                </div>

                <div class="form-row">
                    <label for="plywoodSheets">Replace up to </label>
                    <select id="plywoodSheets" name="plywoodSheets">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="other">Other</option>
                    </select> sheets of plywood related to your damage.
                    <input type="number" id="plywoodSheetsOther" name="plywoodSheetsOther" style="display: none;">
                </div>

                <div class="form-row">
                    <label for="insulationRating">Tear out any water damaged insulation and replace with R-</label>
                    <select id="insulationRating" name="insulationRating">
                        <option value="11">11</option>
                        <option value="13">13</option>
                        <option value="15">15</option>
                        <option value="19">19</option>
                        <option value="21">21</option>
                        <option value="30">30</option>
                        <option value="38">38</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="bootsQuantity">Install new 6" inch boots for heating and stink pipes: </label>
                    <select id="bootsQuantity" name="bootsQuantity">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="ridgeVentLength">Add new ridge vent on selective gables and apply ridge cap (Ln. Ft.): </label>
                    <input type="number" id="ridgeVentLength" name="ridgeVentLength">
                </div>

                <div class="form-row">
                    <label for="boxVentsRemove">Remove all box vents: </label>
                    <input type="number" id="boxVentsRemove" name="boxVentsRemove">
                </div>

                <div class="form-row">
                    <label for="valleysRolls">Add ice and water heavy duty to all valleys (Rolls): </label>
                    <select id="valleysRolls" name="valleysRolls">
                        <option value="0">0</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="nails1_25Boxes">Nails 1 1/4" (Boxes): </label>
                    <select id="nails1_25Boxes" name="nails1_25Boxes">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="nails1_75Boxes">Nails 1 3/4" (Boxes): </label>
                    <select id="nails1_75Boxes" name="nails1_75Boxes">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="staplesBoxes">Staples T-50's (Boxes): </label>
                    <select id="staplesBoxes" name="staplesBoxes">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </div>

                <div class="form-row">
                    <label for="plywoodSheetsOSB">Plywood 7/16 OSB Sheets: </label>
                    <select id="plywoodSheetsOSB" name="plywoodSheetsOSB">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </div>

                <div class="form-row">
                    <label>Using 1 - 15 yd dumpster to haul away debris.</label>
                </div>
            </section>

            <section class="costs-and-labor">
                <h3>Total for Cost and Labor</h3>
                <div class="form-row">
                    <label for="totalCost">Total for Cost and Labor: $</label>
                    <input type="number" id="totalCost" name="totalCost" readonly value="0">
                </div>

                <div class="form-row">
                    <label for="misc">Miscellaneous:</label>
                    <textarea id="misc" name="misc" rows="4"></textarea>
                </div>
            </section>

            <section class="terms-and-conditions">
                <h3>Terms and Conditions</h3>
                <p>All material is guaranteed to be as specified, and the above work to be performed in accordance with the drawings and specifications submitted for above work and completed in a substantial workmanlike manner for the sum of <input type="number" name="agreedSum">. Any alteration or deviation from above specifications involving extra costs will be executed only upon written orders, and will become an extra charge over and above the estimate. Owens Construction is not responsible for ice damage occurred on the roof. All agreements contingent upon strikes, accidents, or delays beyond our control. 50% money up front and 50% money on completion.</p>
                <p>Acceptance of Proposal: Owens Construction and <input type="text" name="clientName"> agree to the work with the money given from the insurance company, at no cost above or below the written amount including the depreciation. Any unforeseen expenses will be taken up with the insurance company and adjuster as a supplement.</p>
                <p>IN ACCORDANCE AND PURSUANT TO THE TERMS AND CONDITIONS OF OHIO REVISED CODE SECTION 1345.23 "HOME SOLICITATION ACT" THE HOMEOWNER SHALL HAVE THREE (3) BUSINESS DAYS TO CANCEL THE FOREGOING PROPOSAL/CONTRACT BY MIDNIGHT OF THE THIRD DAY.</p>
            </section>

            <section class="signatures">
                <h3>Signatures</h3>
                <div class="form-row">
                    <label for="signature1">Signature:</label>
                    <input type="text" id="signature1" name="signature1" class="signature">
                    <label for="date1">Date:</label>
                    <input type="date" id="date1" name="date1">
                </div>

                <div class="form-row">
                    <label for="signature2">Signature:</label>
                    <input type="text" id="signature2" name="signature2" class="signature">
                    <label for="date2">Date:</label>
                    <input type="date" id="date2" name="date2">
                </div>
            </section>

            <div class="form-row">
                <button type="submit">Generate Estimate</button>
            </div>
        </form>

        <!-- Image Preview Container -->
        <div id="imagePreviewContainer" style="margin-top: 20px;"></div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        function generateEstimate(event) {
            event.preventDefault(); // Prevent the default form submission
    
            const form = document.getElementById('estimateForm');
            const formData = new FormData(form);
            let estimateContent = '<div class="container" style="padding: 20px; border: 2px solid red; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); margin-top: 20px; max-width: 800px; margin: 0 auto; page-break-inside: avoid;">';
            estimateContent += '<h1 style="text-align: center; margin-bottom: 20px;">Owens Construction Roofing Estimate</h1>';
            estimateContent += '<div class="estimate-content">';
    
            for (const [key, value] of formData.entries()) {
                estimateContent += `<p><strong>${key}:</strong> ${value}</p>`;
            }
            
            // Terms and conditions section
            estimateContent += '<section class="terms-and-conditions" style="margin-top: 40px;">';
            estimateContent += '<h3 style="margin-bottom: 10px;">Terms and Conditions</h3>';
            estimateContent += '<p>All material is guaranteed to be as specified, and the above work to be performed in accordance with the drawings and specifications submitted for above work and completed in a substantial workmanlike manner for the sum of <input type="number" name="agreedSum">. Any alteration or deviation from above specifications involving extra costs will be executed only upon written orders, and will become an extra charge over and above the estimate. Owens Construction is not responsible for ice damage occurred on the roof. All agreements contingent upon strikes, accidents, or delays beyond our control. 50% money up front and 50% money on completion.</p>';
            estimateContent += '<p>Acceptance of Proposal: Owens Construction and <input type="text" name="clientName"> agree to the work with the money given from the insurance company, at no cost above or below the written amount including the depreciation. Any unforeseen expenses will be taken up with the insurance company and adjuster as a supplement.</p>';
            estimateContent += '<p>IN ACCORDANCE AND PURSUANT TO THE TERMS AND CONDITIONS OF OHIO REVISED CODE SECTION 1345.23 "HOME SOLICITATION ACT" THE HOMEOWNER SHALL HAVE THREE (3) BUSINESS DAYS TO CANCEL THE FOREGOING PROPOSAL/CONTRACT BY MIDNIGHT OF THE THIRD DAY.</p>';
            estimateContent += '</section>'; // Close terms-and-conditions section
            
            estimateContent += '</div>'; // Close estimate-content
            estimateContent += '</div>'; // Close container
    
            // Open a new window to display the estimate
            const newWindow = window.open('', '_blank');
            newWindow.document.write('<html><head><title>Roofing Estimate</title></head><body>');
            newWindow.document.write(estimateContent);
            newWindow.document.write('</body></html>');
    
            // Wait for a short delay for content to be fully rendered, then print
            setTimeout(() => {
                newWindow.print();
                newWindow.close(); // Close the new window after printing
            }, 1000); // Adjust delay as needed
        }
    
        // Attach the event listener to the form's submit event
        document.getElementById('estimateForm').addEventListener('submit', generateEstimate);
    </script>



</body>
</html>
